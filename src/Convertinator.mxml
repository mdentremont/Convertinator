<?xml version="1.0" encoding="utf-8"?>
<s:Application xmlns:fx="http://ns.adobe.com/mxml/2009" 
			   xmlns:s="library://ns.adobe.com/flex/spark" 
			   xmlns:mx="library://ns.adobe.com/flex/mx"
			   xmlns:components="components.*"
			   xmlns:objects="objects.*"
			   xmlns:data="qnx.ui.data.*"
			   width="1024" height="600"
			   creationComplete="initializeApp()">
	<fx:Style source="Convertinator.css"/>
	<fx:Script source="Convertinator.as"/>
	<fx:Declarations>
		<s:Move id="optionsScreenHide" duration="300" target="{pnl}" yFrom="0" yTo="-200"/>
		<s:Move id="optionsScreenShow" duration="500" target="{pnl}" yFrom="-200" yTo="0"/>
	</fx:Declarations>
	<s:Group height="20" width="100%">
		<s:Label text="Unit/Currency Convertinator" left="2" verticalCenter="0"/>
		<s:Label text="Pull down from the top of tablet for options" right="2" verticalCenter="0" fontSize="10"/>
	</s:Group>
	<components:UnitBar id="unitBar" change="unitBarClickHandler(event)" y="20"/>
	<components:NumPad id="numPad" y="100" left="0" textChanged="updateConversions(event)"/>
	<s:DataGrid id="dataGrid" y="100" height="100%" width="660" right="0" dataProvider="{unitBar.data.list}">
		<s:columns>
			<s:ArrayList>
				<s:GridColumn dataField="type" headerText="Unit" />
				<s:GridColumn id="convertedColumn" dataField="convertedValue" headerText="Value" labelFunction="convertedLabelFunction"/>
			</s:ArrayList>
		</s:columns>
	</s:DataGrid>
	
	<!-- Options Screen -->
	<s:Panel id="pnl" x="0" y="0" width="100%" height="220" title="Options" visible="false" showEffect="optionsScreenShow" hideEffect="optionsScreenHide">
		<s:VGroup paddingLeft="5" width="100%" height="50">
			<!-- Hack to make the checkbox format properly-->
			<s:HGroup verticalAlign="middle" height="25">
				<s:Label color="0x000000f">Automatically Fetch New Currency Data When It Is Outdated (Only On App Start)</s:Label>
				<s:CheckBox id="autoUpdateCheckbox"	scaleX="0.5" scaleY="0.5"
							selected="{autoUpdateEnabled}" change="autoUpdateCheckboxChangeHandler(event)"/>
			</s:HGroup>
			<s:HGroup enabled="{autoUpdateCheckbox.selected}" height="25" verticalAlign="middle">
				<s:Label color="0x000000f">Fetch New Currency Data Interval</s:Label>
				<s:DropDownList id="autoUpdateIntervalDropDown" change="autoUpdateIntervalChangeHandler(event)">
					<s:dataProvider>
						<s:ArrayCollection>
							<fx:String>4 Hours</fx:String>
							<fx:String>8 Hours</fx:String>
							<fx:String>12 Hours</fx:String>
							<fx:String>24 Hours</fx:String>
						</s:ArrayCollection>
					</s:dataProvider>
					<s:selectedIndex>{autoUpdateIntervalIndex}</s:selectedIndex>
				</s:DropDownList>
			</s:HGroup>
			<s:Button height="50" label="Update Data Currency Now" click="Data.fetchCurrencyData(true)"/>
			<s:Group width="100%">
				<s:Button label="Close" height="60" width="150" horizontalCenter="0" verticalCenter="0" click="pnl.visible = false"/>
			</s:Group>
		</s:VGroup>
	</s:Panel>
</s:Application>